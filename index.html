<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FreshMilk Market ‚Äî –º–∞–≥–∞–∑–∏–Ω –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</title>

  <!--
  –ü—Ä–æ–µ–∫—Ç: FreshMilk Market
  –û–ø–∏—Å–∞–Ω–∏–µ: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –º–æ–ª–æ—á–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (1 HTML —Ñ–∞–π–ª)
  –ê–≤—Ç–æ—Ä: –í–ü–ò–®–ò –°–í–û–Å –ò–ú–Ø
  –ì–æ–¥: 2026
  -->

  <style>
    :root{
      --bg:#0b1220;
      --text:#eaf0ff;
      --muted:#a9b5d6;
      --brand:#4de3b7;
      --brand2:#6aa8ff;
      --danger:#ff5c7a;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
      --stroke: rgba(255,255,255,.10);
      --glass: rgba(7,12,22,.55);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 20% 10%, rgba(106,168,255,.18), transparent 55%),
                  radial-gradient(1000px 600px at 80% 20%, rgba(77,227,183,.14), transparent 55%),
                  linear-gradient(180deg, #070c16, var(--bg) 35%, #070c16);
      color:var(--text);
    }
    a{color:inherit;text-decoration:none}
    .container{width:min(1100px, 92vw); margin-inline:auto; padding: 18px 0 40px;}

    header{
      position: sticky; top: 0; z-index: 30;
      backdrop-filter: blur(14px);
      background: var(--glass);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding: 14px 0;
    }
    .brand{display:flex; align-items:center; gap:10px;}
    .logo{
      width:40px;height:40px;border-radius:14px;
      background: linear-gradient(135deg, rgba(77,227,183,.95), rgba(106,168,255,.95));
      box-shadow: 0 8px 22px rgba(77,227,183,.18);
    }
    .brand h1{font-size:16px;margin:0;line-height:1.1}
    .brand p{margin:2px 0 0;color:var(--muted);font-size:12px}
    .rightBar{display:flex; align-items:center; gap:10px;}

    .btn{
      cursor:pointer; user-select:none;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color:var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      transition: transform .08s ease, background .15s ease, border-color .15s ease;
      font-weight: 700;
    }
    .btn:hover{background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.18)}
    .btn:active{transform: scale(.98)}
    .btn.primary{
      background: linear-gradient(135deg, rgba(77,227,183,.95), rgba(106,168,255,.92));
      border-color: transparent;
      color:#051022;
      font-weight: 900;
    }
    .btn.danger{
      background: rgba(255,92,122,.12);
      border-color: rgba(255,92,122,.35);
      color:#ffd6de;
    }
    .btn.tab[aria-current="page"]{
      border-color: rgba(77,227,183,.45);
      background: rgba(77,227,183,.12);
    }

    .cartBtn{position: relative; display:flex; align-items:center; gap:8px;}
    .badge{
      position:absolute; top:-8px; right:-8px;
      min-width: 18px; height: 18px; padding: 0 6px;
      display:flex; align-items:center; justify-content:center;
      border-radius: 999px;
      background: var(--danger);
      color: white; font-size: 12px; font-weight: 900;
      border: 2px solid rgba(7,12,22,.9);
    }

    .hero{
      margin-top: 18px; padding: 22px; border-radius: var(--radius);
      background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
      position: relative; overflow:hidden;
    }
    .hero::before{
      content:""; position:absolute; inset:-80px -80px auto auto;
      width: 220px; height: 220px; border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, rgba(77,227,183,.35), transparent 65%);
    }
    .hero h2{margin: 0 0 8px; font-size: clamp(18px, 2.2vw, 28px);}
    .hero p{margin:0; color: var(--muted); max-width: 70ch; line-height: 1.5;}

    .sectionTitle{
      margin: 22px 0 10px;
      display:flex; align-items:flex-end; justify-content: space-between; gap: 12px;
    }
    .sectionTitle h3{margin:0;font-size: 18px}
    .sectionTitle small{color:var(--muted)}

    /* Shop grid */
    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }
    .card{
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border: 1px solid var(--stroke);
      box-shadow: 0 10px 22px rgba(0,0,0,.25);
      overflow:hidden;
      display:flex; flex-direction:column;
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    }
    .card:hover{
      transform: translateY(-4px);
      box-shadow: 0 16px 26px rgba(0,0,0,.32);
      border-color: rgba(255,255,255,.18);
    }
    .thumb{aspect-ratio: 4 / 3; width:100%; background:#0a1327; border-bottom: 1px solid rgba(255,255,255,.08); position:relative; overflow:hidden;}
    .thumb img{width:100%; height:100%; object-fit:cover; display:block;}
    .thumb .tag{
      position:absolute; left:12px; top:12px;
      padding:6px 10px; border-radius:999px; font-size:12px;
      background: rgba(7,12,22,.55);
      border: 1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(10px);
    }
    .content{padding:12px 12px 14px; display:flex; flex-direction:column; gap:10px; flex:1;}
    .content h4{margin:0; font-size:15px;}
    .content p{margin:0; color:var(--muted); font-size:12.5px; line-height:1.4; min-height:36px;}
    .row{display:flex; align-items:center; justify-content:space-between; gap:10px;}
    .price{font-weight: 900;}
    .meta{color: rgba(233,240,255,.65); font-size:12px;}

    /* Panels */
    .panel{
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
      padding: 16px;
    }

    /* Checkout layout */
    .layout{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 14px;
      margin-top: 18px;
    }
    .item{
      display:grid;
      grid-template-columns: 56px 1fr auto;
      gap: 10px;
      align-items:center;
      padding: 10px;
      border-radius: 14px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.08);
      margin-bottom: 10px;
    }
    .item img{
      width:56px;height:56px;border-radius: 14px;object-fit: cover;
      border: 1px solid rgba(255,255,255,.08);
    }
    .title{font-weight:900; font-size:13px; margin:0}
    .sub{color:var(--muted); font-size:12px; margin:2px 0 0}
    .right{font-weight:900}

    .grid2{display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px;}
    label{display:block; font-size:12px; color: rgba(233,240,255,.75); margin-bottom:6px;}
    input, textarea, select{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      color: var(--text);
      outline:none;
    }
    textarea{min-height: 92px; resize: vertical;}
    .full{grid-column: 1 / -1;}
    .sumRow{display:flex; align-items:center; justify-content:space-between; color: var(--muted); font-size:13px; margin-top:8px;}
    .sumRow strong{color: var(--text); font-size:16px}
    .actionsRow{display:flex; gap:10px; margin-top:12px;}
    .actionsRow .btn{flex:1}

    /* Drawer cart */
    .overlay{position: fixed; inset:0; background: rgba(0,0,0,.55); display:none; z-index:50;}
    .overlay.show{display:block}
    .drawer{
      position: fixed; top:0; right:0;
      width: min(420px, 92vw); height:100%;
      background: linear-gradient(180deg, rgba(15,27,51,.98), rgba(12,21,41,.98));
      border-left: 1px solid var(--stroke);
      box-shadow: -20px 0 50px rgba(0,0,0,.5);
      transform: translateX(110%);
      transition: transform .22s ease;
      z-index:60;
      display:flex; flex-direction:column;
    }
    .drawer.show{transform: translateX(0)}
    .drawerHeader{
      padding:14px 14px 10px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    .drawerHeader h3{margin:0;font-size:16px}
    .drawerBody{padding:12px 14px; overflow:auto; flex:1;}
    .cartItem{
      display:grid;
      grid-template-columns: 56px 1fr auto;
      gap:10px;
      align-items:center;
      padding:10px;
      border-radius:14px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.08);
      margin-bottom:10px;
    }
    .cartItem img{width:56px;height:56px;border-radius:14px;object-fit:cover;border:1px solid rgba(255,255,255,.08)}
    .ciTitle{font-weight:900;font-size:13px;margin:0}
    .ciSub{color:var(--muted);font-size:12px;margin:2px 0 0}
    .qty{display:flex; align-items:center; gap:6px; justify-content:flex-end;}
    .qty button{
      width:30px;height:30px;border-radius:10px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: var(--text);
      cursor:pointer;
      transition: transform .08s ease, background .15s ease;
    }
    .qty button:active{transform: scale(.96)}
    .qty span{min-width:18px; text-align:center; font-weight:900}

    .drawerFooter{
      padding:12px 14px 14px;
      border-top: 1px solid rgba(255,255,255,.10);
      display:flex; flex-direction:column; gap:10px;
    }
    .footerBtns{display:flex; gap:10px}
    .footerBtns .btn{flex:1}

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: 22px;
      transform: translateX(-50%) translateY(20px);
      background: rgba(7,12,22,.85);
      border: 1px solid rgba(255,255,255,.12);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      box-shadow: 0 12px 26px rgba(0,0,0,.35);
      opacity: 0;
      pointer-events: none;
      transition: opacity .2s ease, transform .2s ease;
      z-index: 80;
      font-size: 13px;
    }
    .toast.show{opacity:1; transform: translateX(-50%) translateY(0);}

    /* Pages */
    .page{display:none}
    .page.show{display:block}

    /* Responsive */
    @media (max-width: 980px){ .grid{grid-template-columns: repeat(2, 1fr);} }
    @media (max-width: 900px){ .layout{grid-template-columns: 1fr;} }
    @media (max-width: 720px){ .grid{grid-template-columns: 1fr;} }
  </style>
</head>
<body>
<header>
  <div class="container">
    <div class="nav">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>FreshMilk Market</h1>
          <p id="subtitle">–°–≤–µ–∂–∏–µ –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</p>
        </div>
      </div>

      <div class="rightBar">
        <button class="btn tab" id="tabShop" type="button">üß∫ –ú–∞–≥–∞–∑–∏–Ω</button>
        <button class="btn tab" id="tabCheckout" type="button">üì¶ –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</button>

        <button class="btn cartBtn" id="openCartBtn" type="button">
          üõí –ö–æ—Ä–∑–∏–Ω–∞
          <span class="badge" id="cartCount">0</span>
        </button>
      </div>
    </div>
  </div>
</header>

<main class="container">
  <!-- SHOP PAGE -->
  <section class="page" id="pageShop">
    <section class="hero">
      <h2>–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è –¥–æ–º–∞ –∏ –∫—É—Ö–Ω–∏</h2>
      <p>–î–æ–±–∞–≤–ª—è–π —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏ –≤ ‚Äú–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ‚Äù ‚Äî –≤—Å—ë –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.</p>
    </section>

    <div class="sectionTitle">
      <h3>üß∫ –¢–æ–≤–∞—Ä—ã</h3>
      <small id="resultInfo">–ü–æ–∫–∞–∑–∞–Ω–æ: 9</small>
    </div>

    <section class="grid" id="productGrid" aria-label="–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤"></section>

    <div class="sectionTitle" style="margin-top:26px;">
      <h3>‚ùì FAQ</h3>
      <small>–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</small>
    </div>

    <section class="panel">
      <details>
        <summary><strong>–û—Ç–∫—É–¥–∞ –ø–æ—Å—Ç—É–ø–∞—é—Ç –≤–∞—à–∏ –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã?</strong></summary>
        <p>–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±–ª—é–¥–∞—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è.</p>
      </details>
      <details>
        <summary><strong>–ù–∞—Å–∫–æ–ª—å–∫–æ —Å–≤–µ–∂–∏–º–∏ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–≤–∞—Ä—ã?</strong></summary>
        <p>–ü—Ä–æ–¥—É–∫—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∏ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–≤–µ–∂–µ—Å—Ç—å –∏ –≤–∫—É—Å.</p>
      </details>
      <details>
        <summary><strong>–ö–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ü–∏—é –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∞–≤–∫–∏?</strong></summary>
        <p>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ –ø—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ +2‚Ä¶+6 ¬∞C –∏ —É–ø–æ—Ç—Ä–µ–±–∏—Ç—å –¥–æ –¥–∞—Ç—ã –Ω–∞ —É–ø–∞–∫–æ–≤–∫–µ.</p>
      </details>
      <details>
        <summary><strong>–ú–æ–∂–Ω–æ –ª–∏ –≤—ã–±—Ä–∞—Ç—å –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏?</strong></summary>
        <p>–î–∞, –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–æ—Å—Ç–∞–≤–∫–∏.</p>
      </details>
      <details>
        <summary><strong>–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä –ø–æ–≤—Ä–µ–∂–¥—ë–Ω?</strong></summary>
        <p>–°–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤ ‚Äî –º—ã –∑–∞–º–µ–Ω–∏–º —Ç–æ–≤–∞—Ä –∏–ª–∏ –≤–µ—Ä–Ω—ë–º –¥–µ–Ω—å–≥–∏.</p>
      </details>
    </section>

    <div class="sectionTitle" style="margin-top:26px;">
      <h3>üè™ –û –º–∞–≥–∞–∑–∏–Ω–µ</h3>
      <small>–ö–æ–Ω—Ç–∞–∫—Ç—ã</small>
    </div>

    <section class="panel">
      <p style="margin:0 0 10px;color:var(--muted);line-height:1.5;">
        <strong style="color:var(--text);">FreshMilk Market</strong> ‚Äî –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —Å–≤–µ–∂–∏—Ö –º–æ–ª–æ—á–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤.
        <br><br>
        <strong style="color:var(--text);">–ù–∞—à–∞ –º–∏—Å—Å–∏—è:</strong>
        –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å —Å–µ–º—å–∏ —Å–≤–µ–∂–∏–º–∏, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –º–æ–ª–æ—á–Ω—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏, –¥–µ–ª–∞—è –ø–æ–ª–µ–∑–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ —É–¥–æ–±–Ω—ã–º –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.
      </p>
      <p style="margin:0;color:var(--muted);line-height:1.6;">
        <strong style="color:var(--text);">–¢–µ–ª–µ—Ñ–æ–Ω:</strong> +7 (700) 123-45-67<br/>
        <strong style="color:var(--text);">E-mail:</strong> info@freshmilkmarket.kz
      </p>
    </section>

    <footer style="text-align:center;color:rgba(233,240,255,.55);padding:18px 0 0;">
      ¬© 2026 FreshMilk Market
    </footer>
  </section>

  <!-- CHECKOUT PAGE -->
  <section class="page" id="pageCheckout">
    <div class="layout">
      <section class="panel">
        <h2 style="margin:0 0 10px;font-size:18px;">üß∫ –í–∞—à –∑–∞–∫–∞–∑</h2>
        <div style="color:var(--muted);font-size:13px;line-height:1.45;">
          –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ. –ò—Ç–æ–≥ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
        </div>

        <div id="orderList" style="margin-top:12px;"></div>

        <div class="sumRow"><span>–¢–æ–≤–∞—Ä–æ–≤:</span><strong id="itemsCount">0</strong></div>
        <div class="sumRow"><span>–ò—Ç–æ–≥–æ:</span><strong id="total">0 ‚Ç∏</strong></div>

        <div class="actionsRow">
          <button class="btn danger" id="clearCheckout" type="button">–û—á–∏—Å—Ç–∏—Ç—å</button>
          <button class="btn" id="backToShop" type="button">‚Üê –í –º–∞–≥–∞–∑–∏–Ω</button>
        </div>
      </section>

      <section class="panel">
        <h2 style="margin:0 0 10px;font-size:18px;">üì¶ –î–∞–Ω–Ω—ã–µ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏</h2>
        <div style="color:var(--muted);font-size:13px;line-height:1.45;">
          –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑¬ª. (–£—á–µ–±–Ω–∞—è –¥–µ–º–æ-–≤–µ—Ä—Å–∏—è)
        </div>

        <form id="checkoutForm" style="margin-top:10px;">
          <div class="grid2">
            <div>
              <label>–ò–º—è</label>
              <input required name="name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–π–±–µ–∫" />
            </div>
            <div>
              <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
              <input required name="phone" placeholder="+7 (___) ___-__-__" />
            </div>
            <div class="full">
              <label>–ê–¥—Ä–µ—Å</label>
              <input required name="address" placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä–∞" />
            </div>
            <div>
              <label>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</label>
              <select name="pay">
                <option>–ù–∞–ª–∏—á–Ω—ã–º–∏ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏</option>
                <option>–ö–∞—Ä—Ç–æ–π –∫—É—Ä—å–µ—Ä—É</option>
                <option>–û–Ω–ª–∞–π–Ω –ø–µ—Ä–µ–≤–æ–¥</option>
              </select>
            </div>
            <div>
              <label>–í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏</label>
              <select name="time">
                <option>–í —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è</option>
                <option>10:00‚Äì13:00</option>
                <option>13:00‚Äì16:00</option>
                <option>16:00‚Äì19:00</option>
              </select>
            </div>
            <div class="full">
              <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
              <textarea name="comment" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ø–æ–∑–≤–æ–Ω–∏—Ç—å –∑–∞ 10 –º–∏–Ω—É—Ç"></textarea>
            </div>
          </div>

          <div class="actionsRow">
            <button class="btn primary" type="submit">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
          </div>

          <div style="color:rgba(233,240,255,.55);font-size:12px;line-height:1.4;margin-top:10px;">
            * –ó–∞–∫–∞–∑ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –∫–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–∞–µ—Ç—Å—è.
          </div>
        </form>
      </section>
    </div>

    <footer style="text-align:center;color:rgba(233,240,255,.55);padding:18px 0 0;">
      ¬© 2026 FreshMilk Market
    </footer>
  </section>
</main>

<div class="toast" id="toast">–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É ‚úÖ</div>

<div class="overlay" id="overlay"></div>
<aside class="drawer" id="drawer" aria-label="–ö–æ—Ä–∑–∏–Ω–∞">
  <div class="drawerHeader">
    <h3>üõí –ö–æ—Ä–∑–∏–Ω–∞</h3>
    <button class="btn" id="closeCartBtn" type="button">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>

  <div class="drawerBody" id="cartList"></div>

  <div class="drawerFooter">
    <div class="sumRow"><span>–ò—Ç–æ–≥–æ:</span><strong id="cartTotal">0 ‚Ç∏</strong></div>
    <div class="footerBtns">
      <button class="btn danger" id="clearCartBtn" type="button">–û—á–∏—Å—Ç–∏—Ç—å</button>
      <button class="btn primary" id="goCheckoutBtn" type="button">–û—Ñ–æ—Ä–º–∏—Ç—å</button>
    </div>
  </div>
</aside>

<script>
  // –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤ (–∫–∞—Ä—Ç–∏–Ω–∫–∏ –æ–Ω–ª–∞–π–Ω). –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –æ—Ñ–ª–∞–π–Ω ‚Äî –∑–∞–º–µ–Ω–∏–º –Ω–∞ img/...
const products = [
  {
    id:"milk",
    name:"–ú–æ–ª–æ–∫–æ –ø–∞—Å—Ç–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–µ",
    price:450,
    unit:"1 –ª",
    tag:"–•–∏—Ç",
    desc:"–°–≤–µ–∂–∏–π –≤–∫—É—Å –∏ –Ω–µ–∂–Ω–∞—è —Ç–µ–∫—Å—Ç—É—Ä–∞.",
    image:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Milk_glass.jpg/800px-Milk_glass.jpg"
  },
  {
    id:"butter",
    name:"–°–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ",
    price:980,
    unit:"180 –≥",
    tag:"–ö–ª–∞—Å—Å–∏–∫–∞",
    desc:"–ù–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ –º–∞—Å–ª–æ –∏–∑ —Å–ª–∏–≤–æ–∫.",
    image:"https://upload.wikimedia.org/wikipedia/commons/4/45/Butter.jpg"
  },
  {
    id:"sourcream",
    name:"–°–º–µ—Ç–∞–Ω–∞",
    price:650,
    unit:"400 –≥",
    tag:"–î–æ–º–∞—à–Ω—è—è",
    desc:"–ì—É—Å—Ç–∞—è –∏ –Ω–µ–∂–Ω–∞—è.",
    image:"https://upload.wikimedia.org/wikipedia/commons/3/3b/Sour_cream.jpg"
  },
  {
    id:"kefir",
    name:"–ö–µ—Ñ–∏—Ä",
    price:430,
    unit:"1 –ª",
    tag:"–§—Ä–µ—à",
    desc:"–ü–æ–ª–µ–∑–Ω—ã–π –∫–∏—Å–ª–æ–º–æ–ª–æ—á–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫.",
    image:"https://upload.wikimedia.org/wikipedia/commons/3/3f/Kefir.jpg"
  },
  {
    id:"yogurt",
    name:"–ô–æ–≥—É—Ä—Ç",
    price:420,
    unit:"300 –≥",
    tag:"–ù–∞—Ç—É—Ä–∞–ª—å–Ω–æ",
    desc:"–ù–µ–∂–Ω—ã–π —Ñ–µ—Ä–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç.",
    image:"https://upload.wikimedia.org/wikipedia/commons/3/32/Yogurt.jpg"
  },
  {
    id:"brynza",
    name:"–ë—Ä—ã–Ω–∑–∞",
    price:1100,
    unit:"350 –≥",
    tag:"–°–∞–ª–∞—Ç—ã",
    desc:"–†–∞—Å—Å–æ–ª—å–Ω—ã–π —Å—ã—Ä –¥–ª—è —Å–∞–ª–∞—Ç–æ–≤.",
    image:"https://upload.wikimedia.org/wikipedia/commons/5/5d/Brynza.jpg"
  },
  {
    id:"ryazhenka",
    name:"–†—è–∂–µ–Ω–∫–∞",
    price:470,
    unit:"500 –º–ª",
    tag:"–¢–æ–ø–ª—ë–Ω–æ–µ",
    desc:"–ú—è–≥–∫–∏–π –∫–∞—Ä–∞–º–µ–ª—å–Ω—ã–π –≤–∫—É—Å.",
    image:"https://upload.wikimedia.org/wikipedia/commons/7/7f/Ryazhenka.jpg"
  },
  {
    id:"milkshake",
    name:"–ú–æ–ª–æ—á–Ω—ã–π –∫–æ–∫—Ç–µ–π–ª—å",
    price:590,
    unit:"450 –º–ª",
    tag:"–î–µ—Å–µ—Ä—Ç",
    desc:"–°–ª–∞–¥–∫–∏–π —Å–ª–∏–≤–æ—á–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫.",
    image:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Milkshake.jpg"
  },
  {
    id:"cottage",
    name:"–¢–≤–æ—Ä–æ–≥",
    price:750,
    unit:"400 –≥",
    tag:"–ë–µ–ª–æ–∫",
    desc:"–ò–¥–µ–∞–ª—å–Ω–æ –∫ —á–∞—é –∏ –∫–æ—Ñ–µ.",
    image:"https://upload.wikimedia.org/wikipedia/commons/3/3d/Cottage_cheese.jpg"
  }
];

  // LocalStorage cart
  const LS_KEY = "freshmilk_cart_singlefile_v1";
  function loadCart(){
    try{
      const raw = localStorage.getItem(LS_KEY);
      if(!raw) return new Map();
      const obj = JSON.parse(raw);
      const m = new Map();
      for(const [k,v] of Object.entries(obj)){
        const n = Number(v);
        if(Number.isFinite(n) && n > 0) m.set(k, n);
      }
      return m;
    }catch{ return new Map(); }
  }
  function saveCart(cart){
    const obj = {};
    cart.forEach((qty, id) => obj[id] = qty);
    localStorage.setItem(LS_KEY, JSON.stringify(obj));
  }

  const cart = loadCart();

  // DOM
  const pageShop = document.getElementById("pageShop");
  const pageCheckout = document.getElementById("pageCheckout");
  const subtitle = document.getElementById("subtitle");

  const tabShop = document.getElementById("tabShop");
  const tabCheckout = document.getElementById("tabCheckout");

  const grid = document.getElementById("productGrid");
  const resultInfo = document.getElementById("resultInfo");

  const cartCount = document.getElementById("cartCount");
  const cartList = document.getElementById("cartList");
  const cartTotal = document.getElementById("cartTotal");

  const overlay = document.getElementById("overlay");
  const drawer = document.getElementById("drawer");
  const openCartBtn = document.getElementById("openCartBtn");
  const closeCartBtn = document.getElementById("closeCartBtn");
  const clearCartBtn = document.getElementById("clearCartBtn");
  const goCheckoutBtn = document.getElementById("goCheckoutBtn");

  const toast = document.getElementById("toast");

  // Checkout DOM
  const orderList = document.getElementById("orderList");
  const itemsCount = document.getElementById("itemsCount");
  const totalEl = document.getElementById("total");
  const clearCheckout = document.getElementById("clearCheckout");
  const backToShop = document.getElementById("backToShop");
  const checkoutForm = document.getElementById("checkoutForm");

  // Helpers
  const money = n => new Intl.NumberFormat("ru-RU").format(n);

  function showToast(text){
    toast.textContent = text;
    toast.classList.add("show");
    clearTimeout(showToast._t);
    showToast._t = setTimeout(()=>toast.classList.remove("show"), 1200);
  }

  function getCartCount(){
    let sum = 0; cart.forEach(q => sum += q); return sum;
  }
  function getCartTotal(){
    let sum = 0;
    cart.forEach((q, id) => {
      const p = products.find(x => x.id === id);
      if(p) sum += p.price * q;
    });
    return sum;
  }

  // Render shop
  function renderProducts(){
    grid.innerHTML = "";
    products.forEach(p => {
      const card = document.createElement("article");
      card.className = "card";
      card.innerHTML = `
        <div class="thumb">
          <img loading="lazy" src="${p.image}" alt="${p.name}">
          <div class="tag">${p.tag}</div>
        </div>
        <div class="content">
          <div>
            <h4>${p.name}</h4>
            <p>${p.desc}</p>
          </div>
          <div class="row">
            <div>
              <div class="price">${money(p.price)} ‚Ç∏</div>
              <div class="meta">${p.unit}</div>
            </div>
            <button class="btn primary" data-add="${p.id}" type="button">–ö—É–ø–∏—Ç—å</button>
          </div>
        </div>
      `;
      grid.appendChild(card);
    });
    resultInfo.textContent = `–ü–æ–∫–∞–∑–∞–Ω–æ: ${products.length}`;
  }

  // Render drawer cart
  function updateCartUI(){
    cartCount.textContent = String(getCartCount());
    cartTotal.textContent = `${money(getCartTotal())} ‚Ç∏`;

    const items = Array.from(cart.entries());
    if(items.length === 0){
      cartList.innerHTML = `
        <div style="padding:12px;border:1px solid rgba(255,255,255,.10);border-radius:14px;background:rgba(255,255,255,.05);">
          <strong>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞—è</strong>
          <p style="margin:8px 0 0;color:var(--muted);line-height:1.45;font-size:13px;">
            –ù–∞–∂–º–∏ ¬´–ö—É–ø–∏—Ç—å¬ª –Ω–∞ –ª—é–±–æ–º —Ç–æ–≤–∞—Ä–µ.
          </p>
        </div>
      `;
    } else {
      cartList.innerHTML = "";
      items.forEach(([id, qty]) => {
        const p = products.find(x => x.id === id);
        if(!p) return;
        const div = document.createElement("div");
        div.className = "cartItem";
        div.innerHTML = `
          <img loading="lazy" src="${p.image}" alt="${p.name}">
          <div>
            <div class="ciTitle">${p.name}</div>
            <div class="ciSub">${money(p.price)} ‚Ç∏ ‚Ä¢ ${p.unit}</div>
            <button class="btn danger" style="margin-top:8px;padding:7px 10px;border-radius:12px;"
                    data-remove="${p.id}" type="button">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
          <div class="qty">
            <button type="button" data-dec="${p.id}">‚àí</button>
            <span>${qty}</span>
            <button type="button" data-inc="${p.id}">+</button>
          </div>
        `;
        cartList.appendChild(div);
      });
    }

    saveCart(cart);
    renderCheckout(); // —á—Ç–æ–±—ã –Ω–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ —Å—Ä–∞–∑—É –æ–±–Ω–æ–≤–ª—è–ª–æ—Å—å
  }

  // Cart actions
  function addToCart(id){
    cart.set(id, (cart.get(id) || 0) + 1);
    updateCartUI();
    showToast("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É ‚úÖ");
  }
  function decFromCart(id){
    const q = cart.get(id) || 0;
    if(q <= 1) cart.delete(id);
    else cart.set(id, q - 1);
    updateCartUI();
  }
  function removeFromCart(id){
    cart.delete(id);
    updateCartUI();
  }
  function clearCart(){
    cart.clear();
    updateCartUI();
    showToast("–ö–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–µ–Ω–∞ üßπ");
  }

  // Drawer controls
  function openCart(){ overlay.classList.add("show"); drawer.classList.add("show"); }
  function closeCart(){ overlay.classList.remove("show"); drawer.classList.remove("show"); }

  // Checkout render
  function renderCheckout(){
    const entries = Array.from(cart.entries());
    let count = 0, total = 0;

    if(entries.length === 0){
      orderList.innerHTML = `<div style="color:var(--muted);margin-top:12px;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞—è. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ.</div>`;
      itemsCount.textContent = "0";
      totalEl.textContent = "0 ‚Ç∏";
      return;
    }

    orderList.innerHTML = "";
    for(const [id, qty] of entries){
      const p = products.find(x => x.id === id);
      if(!p) continue;
      count += qty;
      total += p.price * qty;

      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `
        <img loading="lazy" src="${p.image}" alt="${p.name}">
        <div>
          <div class="title">${p.name}</div>
          <div class="sub">${p.unit} ‚Ä¢ ${money(p.price)} ‚Ç∏</div>
          <div class="sub">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: <strong style="color:var(--text)">${qty}</strong></div>
        </div>
        <div class="right">${money(p.price * qty)} ‚Ç∏</div>
      `;
      orderList.appendChild(div);
    }

    itemsCount.textContent = String(count);
    totalEl.textContent = `${money(total)} ‚Ç∏`;
  }

  // Routing (one file)
  function setPage(page){
    const isCheckout = page === "checkout";
    pageShop.classList.toggle("show", !isCheckout);
    pageCheckout.classList.toggle("show", isCheckout);

    tabShop.setAttribute("aria-current", !isCheckout ? "page" : "false");
    tabCheckout.setAttribute("aria-current", isCheckout ? "page" : "false");

    subtitle.textContent = isCheckout ? "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞" : "–°–≤–µ–∂–∏–µ –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å";

    if(isCheckout) renderCheckout();
    window.location.hash = isCheckout ? "#checkout" : "#shop";
  }

  // Events
  document.addEventListener("click", (e) => {
    const addId = e.target?.dataset?.add;
    const incId = e.target?.dataset?.inc;
    const decId = e.target?.dataset?.dec;
    const remId = e.target?.dataset?.remove;

    if(addId) addToCart(addId);
    if(incId) addToCart(incId);
    if(decId) decFromCart(decId);
    if(remId) removeFromCart(remId);
  });

  tabShop.addEventListener("click", () => setPage("shop"));
  tabCheckout.addEventListener("click", () => setPage("checkout"));

  openCartBtn.addEventListener("click", openCart);
  closeCartBtn.addEventListener("click", closeCart);
  overlay.addEventListener("click", closeCart);

  clearCartBtn.addEventListener("click", clearCart);
  goCheckoutBtn.addEventListener("click", () => { closeCart(); setPage("checkout"); });

  clearCheckout.addEventListener("click", clearCart);
  backToShop.addEventListener("click", () => setPage("shop"));

  checkoutForm.addEventListener("submit", (e) => {
    e.preventDefault();

    if(getCartCount() === 0){
      alert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞—è. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –ø–µ—Ä–µ–¥ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º.");
      return;
    }

    const fd = new FormData(checkoutForm);
    const name = fd.get("name");
    const phone = fd.get("phone");
    const address = fd.get("address");
    const pay = fd.get("pay");
    const time = fd.get("time");

    const total = getCartTotal();

    // –î–µ–º–æ-–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ + –æ—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
    clearCart();
    checkoutForm.reset();

    alert(
      `–ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω ‚úÖ (–¥–µ–º–æ)\n\n` +
      `–ò–º—è: ${name}\n–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}\n–ê–¥—Ä–µ—Å: ${address}\n` +
      `–û–ø–ª–∞—Ç–∞: ${pay}\n–í—Ä–µ–º—è: ${time}\n\n` +
      `–°—É–º–º–∞: ${money(total)} ‚Ç∏`
    );

    setPage("shop");
  });

  // Init
  renderProducts();
  updateCartUI();

  // Open correct page from hash
  const initial = (location.hash || "#shop").toLowerCase();
  if(initial.includes("checkout")) setPage("checkout");
  else setPage("shop");
</script>
</body>
</html>


